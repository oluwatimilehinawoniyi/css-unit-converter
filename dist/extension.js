"use strict";var w=Object.create;var l=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var b=(n,t)=>{for(var e in t)l(n,e,{get:t[e],enumerable:!0})},x=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of h(t))!P.call(n,r)&&r!==e&&l(n,r,{get:()=>t[r],enumerable:!(i=C(t,r))||i.enumerable});return n};var S=(n,t,e)=>(e=n!=null?w($(n)):{},x(t||!n||!n.__esModule?l(e,"default",{value:n,enumerable:!0}):e,n)),k=n=>x(l({},"__esModule",{value:!0}),n);var F={};b(F,{activate:()=>U,deactivate:()=>E});module.exports=k(F);var o=S(require("vscode"));function U(n){let t=o.languages.registerHoverProvider(["css","scss","less"],{provideHover(e,i,r){let a=o.workspace.getConfiguration("cssUnitConverter").get("showAsComment",!1),s=e.getWordRangeAtPosition(i,/\d+(\.\d+)?(px|em|rem|%|vh|vw)/);if(s&&!y(s.start,e)){let f=e.getText(s),c=A(f);if(a){let d=new o.WorkspaceEdit,g=e.lineAt(s.end.line).text,m=g.match(/\/\*.*\*\//);if(m){let u=new o.Range(new o.Position(s.end.line,m.index),new o.Position(s.end.line,m.index+m[0].length));d.delete(e.uri,u),o.workspace.applyEdit(d)}let v;g.trim().endsWith(";")?(v=new o.Position(s.end.line,g.length),d.insert(e.uri,v,` /* ${c} */`)):(v=new o.Position(s.end.line,s.end.character),d.insert(e.uri,v,`; /* ${c} */`)),o.workspace.applyEdit(d)}return new o.Hover(c)}return null}});n.subscriptions.push(t)}function A(n){let t=n.match(/[a-z%]+/i)?.[0];if(!t)return"Invalid unit";let e=parseFloat(n),i={px:`${e}px = ${(e/16).toFixed(2)}rem / ${(e/16).toFixed(2)}em / ${(e*.264583).toFixed(2)}cm`,em:`${e}em = ${e*16}px / ${e}rem`,rem:`${e}rem = ${e*16}px / ${e}em`};return I(t)?i[t]:"No conversion available"}function I(n){return["px","em","rem"].includes(n)}function y(n,t){let e=t.getText(),i=t.offsetAt(n),r=e.substring(0,i),p=e.substring(i),a=s=>{let f=s.lastIndexOf("/*"),c=s.lastIndexOf("*/");return f>c};return a(r)&&!a(p)}function E(){}0&&(module.exports={activate,deactivate});
